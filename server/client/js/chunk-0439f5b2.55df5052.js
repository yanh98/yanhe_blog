(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0439f5b2"],{1516:function(t,e,a){"use strict";var i=a("d954"),n=a.n(i);n.a},"709b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v(t._s(t.id?"编辑":"新建")+"页面文章")]),a("el-form",{attrs:{"label-width":"40px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}},model:{value:t.page_article,callback:function(e){t.page_article=e},expression:"page_article"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:t.page_article.name,callback:function(e){t.$set(t.page_article,"name",e)},expression:"page_article.name"}})],1),t.imgs.length?a("el-form-item",{attrs:{label:"文章图片","label-width":"75px"}},t._l(t.imgs,function(e){return a("div",{key:e,staticClass:"imgs"},[a("el-image",{attrs:{src:e,fit:"cover"}}),a("el-button",{staticClass:"el-icon-delete",attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.imgDel(e)}}})],1)}),0):t._e(),a("el-form-item",{attrs:{label:"内容"}},[a("mavon-editor",{ref:"md",attrs:{codeStyle:"monokai",value:this.page_article.md_content},on:{imgAdd:t.$imgAdd}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},n=[],r=(a("96cf"),a("3b8d")),s={props:{id:{}},data:function(){return{page_article:{},imgs:[]}},methods:{save:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$set(this.page_article,"html_content",this.$refs.md.d_render),this.$set(this.page_article,"md_content",this.$refs.md.d_value),this.$set(this.page_article,"imgs",this.imgs),this.$set(this.page_article,"date",this.dateFormat()),!this.id){t.next=9;break}return t.next=7,this.$http.put("admin/common/page_articles/".concat(this.id),this.page_article);case 7:t.next=11;break;case 9:return t.next=11,this.$http.post("admin/common/page_articles",this.page_article);case 11:this.$router.push("/admin/page_article-list"),this.$message({type:"success",message:"保存成功"});case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetch:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("admin/common/page_articles/".concat(this.id));case 2:e=t.sent,this.page_article=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.id&&this.fetch()}},c=s,l=(a("1516"),a("2877")),o=Object(l["a"])(c,i,n,!1,null,"20a5e870",null);e["default"]=o.exports},d954:function(t,e,a){}}]);
//# sourceMappingURL=chunk-0439f5b2.55df5052.js.map