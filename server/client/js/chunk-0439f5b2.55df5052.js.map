{"version":3,"sources":["webpack:///./src/components/admin/EditPageArticle.vue?e8b2","webpack:///./src/components/admin/EditPageArticle.vue?1e29","webpack:///src/components/admin/EditPageArticle.vue","webpack:///./src/components/admin/EditPageArticle.vue?6186","webpack:///./src/components/admin/EditPageArticle.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","id","attrs","nativeOn","$event","preventDefault","save","model","value","callback","$$v","page_article","expression","$set","imgs","_l","img","key","staticClass","on","imgDel","_e","ref","md_content","$imgAdd","staticRenderFns","props","data","methods","created","fetch","component"],"mappings":"gHAAA,yBAA6f,EAAG,G,2CCAhgB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAK,KAAO,MAAM,UAAUJ,EAAG,UAAU,CAACK,MAAM,CAAC,cAAc,QAAQC,SAAS,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBZ,EAAIa,KAAKF,KAAUG,MAAM,CAACC,MAAOf,EAAgB,aAAEgB,SAAS,SAAUC,GAAMjB,EAAIkB,aAAaD,GAAKE,WAAW,iBAAiB,CAACf,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,OAAO,CAACL,EAAG,WAAW,CAACU,MAAM,CAACC,MAAOf,EAAIkB,aAAiB,KAAEF,SAAS,SAAUC,GAAMjB,EAAIoB,KAAKpB,EAAIkB,aAAc,OAAQD,IAAME,WAAW,wBAAwB,GAAInB,EAAIqB,KAAW,OAAEjB,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,OAAO,cAAc,SAAST,EAAIsB,GAAItB,EAAQ,KAAE,SAASuB,GAAK,OAAOnB,EAAG,MAAM,CAACoB,IAAID,EAAIE,YAAY,QAAQ,CAACrB,EAAG,WAAW,CAACK,MAAM,CAAC,IAAMc,EAAI,IAAM,WAAWnB,EAAG,YAAY,CAACqB,YAAY,iBAAiBhB,MAAM,CAAC,KAAO,SAAS,KAAO,QAAQiB,GAAG,CAAC,MAAQ,SAASf,GAAQ,OAAOX,EAAI2B,OAAOJ,QAAU,KAAK,GAAGvB,EAAI4B,KAAKxB,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,OAAO,CAACL,EAAG,eAAe,CAACyB,IAAI,KAAKpB,MAAM,CAAC,UAAY,UAAU,MAAQR,KAAKiB,aAAaY,YAAYJ,GAAG,CAAC,OAAS1B,EAAI+B,YAAY,GAAG3B,EAAG,eAAe,CAACA,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,UAAU,cAAc,WAAW,CAACT,EAAIM,GAAG,SAAS,IAAI,IAAI,IACptC0B,EAAkB,G,wBC0BtB,GACEC,MAAO,CACLzB,GAAI,IAEN0B,KAJF,WAKI,MAAO,CACLhB,aAAc,GACdG,KAAM,KAGVc,QAAS,CAEP,KAFJ,wJAGA,mEACA,gEACA,8CACA,uDACA,QAPA,gCAQA,gFARA,+CAUA,gEAVA,QAYA,8CACA,eACA,eACA,iBAfA,uGAmBI,MAnBJ,2KAoBA,8DApBA,OAoBA,EApBA,OAqBA,yBArBA,uGAwBEC,QAlCF,WAmCInC,KAAKO,IAAMP,KAAKoC,UC9DoV,I,wBCQpWC,EAAY,eACd,EACAvC,EACAiC,GACA,EACA,KACA,WACA,MAIa,aAAAM,E","file":"js/chunk-0439f5b2.55df5052.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPageArticle.vue?vue&type=style&index=0&id=20a5e870&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPageArticle.vue?vue&type=style&index=0&id=20a5e870&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.id ? '编辑' : '新建')+\"页面文章\")]),_c('el-form',{attrs:{\"label-width\":\"40px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.save($event)}},model:{value:(_vm.page_article),callback:function ($$v) {_vm.page_article=$$v},expression:\"page_article\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(_vm.page_article.name),callback:function ($$v) {_vm.$set(_vm.page_article, \"name\", $$v)},expression:\"page_article.name\"}})],1),(_vm.imgs.length)?_c('el-form-item',{attrs:{\"label\":\"文章图片\",\"label-width\":\"75px\"}},_vm._l((_vm.imgs),function(img){return _c('div',{key:img,staticClass:\"imgs\"},[_c('el-image',{attrs:{\"src\":img,\"fit\":\"cover\"}}),_c('el-button',{staticClass:\"el-icon-delete\",attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.imgDel(img)}}})],1)}),0):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"内容\"}},[_c('mavon-editor',{ref:\"md\",attrs:{\"codeStyle\":\"monokai\",\"value\":this.page_article.md_content},on:{\"imgAdd\":_vm.$imgAdd}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\"}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 编辑页面文章 -->\r\n<template>\r\n  <div>\r\n    <h1>{{ id ? '编辑' : '新建' }}页面文章</h1>\r\n    <el-form label-width=\"40px\" v-model=\"page_article\" @submit.native.prevent=\"save\">\r\n      <el-form-item label=\"名称\">\r\n        <el-input v-model=\"page_article.name\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item v-if=\"imgs.length\" label=\"文章图片\" label-width=\"75px\">\r\n        <div v-for=\"img in imgs\" :key=\"img\" class=\"imgs\">\r\n          <el-image :src=\"img\" fit=\"cover\"></el-image>\r\n          <el-button class=\"el-icon-delete\" @click=\"imgDel(img)\" type=\"danger\" size=\"mini\"></el-button>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"内容\">\r\n        <mavon-editor ref=md @imgAdd=\"$imgAdd\"\r\n        codeStyle=\"monokai\"\r\n        :value=\"this.page_article.md_content\"/>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" native-type=\"submit\">保存</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    id: {}\r\n  },\r\n  data() {\r\n    return {\r\n      page_article: {},\r\n      imgs: []\r\n    };\r\n  },\r\n  methods: {\r\n    // 保存文章，有id为编辑文章，否则为新建文章，实现组件复用\r\n    async save() {\r\n      this.$set(this.page_article, \"html_content\", this.$refs.md.d_render); // html\r\n      this.$set(this.page_article, \"md_content\", this.$refs.md.d_value); //md\r\n      this.$set(this.page_article, \"imgs\", this.imgs); //imgs\r\n      this.$set(this.page_article, \"date\", this.dateFormat()); //date\r\n      if (this.id) {\r\n        await this.$http.put(`admin/common/page_articles/${this.id}`, this.page_article);\r\n      } else {\r\n        await this.$http.post(\"admin/common/page_articles\", this.page_article);\r\n      }\r\n      this.$router.push(\"/admin/page_article-list\");\r\n      this.$message({\r\n        type: \"success\",\r\n        message: \"保存成功\"\r\n      });\r\n    },\r\n    // 获取修改文章信息\r\n    async fetch() {\r\n      const res = await this.$http.get(`admin/common/page_articles/${this.id}`);\r\n      this.page_article = res.data;\r\n    }\r\n  },\r\n  created() {\r\n    this.id && this.fetch();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-image {\r\n  height: 150px;\r\n  width: 150px;\r\n  margin: 10px;\r\n}\r\n.imgs {\r\n  float: left;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPageArticle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPageArticle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditPageArticle.vue?vue&type=template&id=20a5e870&scoped=true&\"\nimport script from \"./EditPageArticle.vue?vue&type=script&lang=js&\"\nexport * from \"./EditPageArticle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditPageArticle.vue?vue&type=style&index=0&id=20a5e870&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20a5e870\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}